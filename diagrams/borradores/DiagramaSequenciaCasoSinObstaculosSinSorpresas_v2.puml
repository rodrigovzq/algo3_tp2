@startuml
title Diagrama Secuencia Moto Avanza Sin Obstaculos Y Sin Sorpresas Vol. 2
autonumber
actor Jugador

group "X movimientos"
Jugador -> "posicion : Posicion": avanzarHaciaLaDireccion( este, moto )
"posicion : Posicion" -> "posicion : Posicion": avanzarHaciaElEsteEn( moto )
"posicion : Posicion" -> "celdaEste : Celda" : avanzarEn( moto )
"celdaEste : Celda" -> Comun: avanzarEn( moto )
Comun -> "moto : Moto": avanzarComun()

"moto : Moto" --> Comun: movimientos
Comun --> "celdaEste : Celda": movimientos
"celdaEste : Celda "--> "posicion : Posicion": movimientos

'Viola el TellDontAsk, pero no es la solucion final.
'Es para chequear que el movimiento es posible, por ejemplo,
'cuando queres pasar por un piquete con un auto. No debemos actualizar
'la posicion, ya que no podemos avanzar.
"posicion : Posicion" -> "movimientos : Movimiento": esPosible()
"movimientos : Movimiento" --> "posicion : Posicion": true
"posicion : Posicion" -> "posicion : Posicion": setPosicion( celdaEste )

"posicion : Posicion" --> Jugador: movimientos

Jugador -> "puntaje : Movimiento": sumarMovimientos( movimientos )
end

@enduml